# Code Repository Q&A System

This project is a code repository question-answering system that takes user inputs in the form of questions, searches through a specified code repository, and provides answers based on the relevant files found in the repository.

## Features

- Accepts user questions as input
- Downloads and analyzes a specified code repository
- Identifies relevant files within the repository to answer the user's question
- Extracts useful information from the relevant files
- Generates a summary answer based on the extracted information
- Utilizes LangChain, a language model chaining library, for natural language processing tasks
- Employs function calling and LangChain's tools features for modular and extensible functionality

## Prerequisites

- Node.js
- npm

## Installation

1. Clone the repository:
   ```
   git clone https://github.com/JMHenri/code-qa
   ```

2. Navigate to the project directory:
   ```
   cd code-qa
   ```

3. Install the dependencies:
   ```
   npm install
   ```

## Configuration

1. Create a `.env` file in the project root directory.

2. Set the following environment variables in the `.env` file:
   ```
    REPO_OWNER=REPO_OWNER
    REPO_NAME=REPO_NAME
    REPO_BRANCH=main
    OPENAI_API_KEY=OPENAI_API_KEY
   ```
   Replace `your_openai_api_key` with your actual OpenAI API key, `repository_owner` with the GitHub username or organization that owns the repository, and `repository_name` with the name of the repository you want to analyze.

## Usage

1. Run the main script:
   ```
   npm run main
   ```

2. When prompted, enter your question related to the code repository.

3. The system will process your question, search through the repository, and provide an answer based on the relevant files found.

## Scripts

The `package.json` file includes the following scripts:

- `test`: Runs the test suite (currently not implemented).
- `main`: Runs the main script (`main.js`) to start the Q&A system.
- `download-repo`: Downloads the specified code repository into the `downloaded-repo` directory based on the environment variables.
- `clean-repo`: Removes images, sound files, and extra large files from the downloaded repository to optimize processing.

## Implementation Details

The project is implemented using Node.js and utilizes the following libraries and features:

- LangChain: A language model chaining library that facilitates natural language processing tasks and provides tools for working with language models.
- Function Calling: The system employs function calling to modularize and organize the codebase, allowing for better code reusability and maintainability.
- LangChain Tools: The project leverages LangChain's tools features to extend the functionality of the language models and perform specific tasks such as file picking, file reading, and summarization.

## Sample Response

Here's an example of a question and its corresponding answer generated by the system:

Question: What is the Grok class?

Answer: The Grok class is defined in the file 'groq_client.py'. It initializes with a configuration to get an API key and creates a client instance of _Groq. The class has a method 'inference' which takes a model ID and a prompt, and returns the output of a chat completion using the Groq API. The method ensures that the prompt is stripped of leading/trailing whitespace and sets the temperature parameter to 0 for the API call.